(()=>{"use strict";var e={d:(t,n)=>{for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};function t(e,t,n,r,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function n(e){return function(){var n=this,r=arguments;return new Promise((function(o,a){var i=e.apply(n,r);function c(e){t(i,o,a,c,u,"next",e)}function u(e){t(i,o,a,c,u,"throw",e)}c(void 0)}))}}e.d({},{LZ:()=>C,Ar:()=>H,vL:()=>D});const r={getMedias:(a=n(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("../../data/photographers.json").then((function(e){return e.json()})).then((function(e){return{photographer:e.photographers.find((function(e){return e.id===t})),medias:e.media.filter((function(e){return e.photographerId===t}))}}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(e){return a.apply(this,arguments)}),getPhotographers:(o=n(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("../../data/photographers.json").then((function(e){return e.json()})).then((function(e){return e.photographers}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(){return o.apply(this,arguments)})};var o,a;function i(){var e=document.querySelector("body"),t=document.querySelector("main"),n=document.querySelector(".modal"),r=document.querySelector(".overlay");n.setAttribute("aria-hidden","true"),r.setAttribute("aria-hidden","true"),t.setAttribute("aria-hidden","false"),e.classList.remove("no-scroll")}function c(e){var t={first:document.querySelector("input[name=first]"),last:document.querySelector("input[name=last]"),email:document.querySelector("input[name=email]"),message:document.querySelector("textarea[name=message]")};console.log("Prénom : ".concat(t.first.value),"\nNom : ".concat(t.last.value),"\nEmail : ".concat(t.email.value),"\nMessage : ".concat(t.message.value)),e.preventDefault(),i()}const u=function(e){var t=document.querySelector(".modal"),n=document.querySelector(".modal__button"),r=document.querySelector(".modal__close");document.querySelector("#modal__header-name").innerHTML=e,document.querySelector("#modal__title").setAttribute("aria-label","Contact me ".concat(e)),n.addEventListener("click",(function(e){return c(e)})),r.addEventListener("click",i),r.addEventListener("keydown",(function(e){if(" "!==e.key&&"Enter"!==e.key)return!1;i()})),t.addEventListener("keydown",(function(e){if("Tab"!==e.key)return!1;e.target===t&&e.shiftKey?(r.focus(),e.preventDefault()):e.target!==r||e.shiftKey||(t.focus(),e.preventDefault())})),t.addEventListener("keydown",(function(e){"Escape"===e.key&&i()}))},s=function(){var e=document.querySelector("body"),t=document.querySelector("main"),n=document.querySelector(".modal"),r=document.querySelector(".overlay");n.setAttribute("aria-hidden","false"),r.setAttribute("aria-hidden","false"),t.setAttribute("aria-hidden","true"),e.classList.add("no-scroll"),n.focus()};function d(e){var t=e.id,n=e.name,r=e.portrait,o=e.city,a=e.country,i=e.tagline,c=e.price,u="assets/photographers/".concat(r);return{id:t,name:n,portrait:r,city:o,tagline:i,price:c,getUserCardDOM:function(){var e=document.createElement("article");return e.className="photographer",e.innerHTML='\n\t\t\t<a href="photographer.html?id='.concat(t,'" class="photographer__top">\n\t\t\t\t<img src="').concat(u,'" alt="Photo du photographe ').concat(n,'" />\n\t\t\t\t<h2>').concat(n,'</h2>\n\t\t\t</a>\n\t\t\t<div class="photographer__bottom" tabindex="0">\n\t\t\t\t<p class="photographer__city">').concat(o,'</p>\n\t\t\t\t<p class="photographer__tagline">').concat(i,'</p>\n\t\t\t\t<p class="photographer__price">').concat(c,"€/jour</p>\n\t\t\t</div>\n\t\t"),e},getUserBannerDOM:function(){var e=document.createElement("section");return e.className="photograph-banner",e.innerHTML='\n\t\t\t<div class="photograph-banner__section photograph-banner__info">\n\t\t\t\t<h1 class="photograph-banner__name" tabindex="0">'.concat(n,'</h1>\n        <div tabindex="0">\n          <p class="photograph-banner__location">').concat(o,", ").concat(a,'</p>\n          <p class="photograph-banner__tagline">').concat(i,'</p>\n        </div>\n\t\t\t</div>\n\t\t\t<div class="photograph-banner__section">\n\t\t\t\t<button class="contact_button btn-primary" tabindex="0"">Contactez-moi</button>\n\t\t\t</div>\n\t\t\t<div class="photograph-banner__section photograph-banner__photo">\n\t\t\t\t<img src="assets/photographers/').concat(r,'" height="400" tabindex="0" />\n\t\t\t</div>\n\t\t'),e.querySelector(".contact_button").addEventListener("click",s),e}}}function l(e){return e.split(" ")[0]}function m(e){return Array.from(e.parentElement.children).indexOf(e)}function h(e,t){return Array.from(t).indexOf(e)}function p(e,t,n){return Math.min(Math.max(e,t),n)}var f,y=0;function v(){var e=document.querySelector("body"),t=document.querySelector("main"),n=document.querySelector(".lightbox"),r=document.querySelector(".lightbox__img"),o=document.querySelector(".overlay");n.setAttribute("aria-hidden","true"),o.setAttribute("aria-hidden","true"),t.setAttribute("aria-hidden","false"),e.classList.remove("no-scroll"),r.removeAttribute("src")}function g(e){var t=document.querySelector(".lightbox__img"),n=document.querySelector(".lightbox__video"),r=document.querySelector(".lightbox__title"),o=C();y=e,r.innerHTML=o[e].title,o[e].image?(n.setAttribute("aria-hidden","true"),t.setAttribute("aria-hidden","false"),t.src="assets/medias/".concat(f,"/").concat(o[e].image)):(t.removeAttribute("src"),t.setAttribute("aria-hidden","true"),n.setAttribute("aria-hidden","false"),n.src="assets/medias/".concat(f,"/").concat(o[e].video))}function _(){var e=C();++y>e.length-1&&(y=0),g(y)}function b(){var e=C();--y<0&&(y=e.length-1),g(y)}const q=function(){var e=document.querySelector(".lightbox"),t=document.querySelector(".lightbox__arrowLeft"),n=document.querySelector(".lightbox__arrowRight"),r=document.querySelector(".lightbox__close");f=l(H().name),t.addEventListener("click",b),n.addEventListener("click",_),r.addEventListener("click",v),e.addEventListener("keydown",(function(t){if("Tab"!==t.key)return!1;t.target===e&&t.shiftKey?(r.focus(),t.preventDefault()):t.target!==r||t.shiftKey||(e.focus(),t.preventDefault())})),e.addEventListener("keydown",(function(e){"ArrowLeft"===e.key?b():"ArrowRight"===e.key&&_()})),e.addEventListener("keydown",(function(e){if(" "!==e.key&&"Enter"!==e.key)return!1;e.target===r?v():e.target===t?b():e.target===n&&_()})),e.addEventListener("keydown",(function(e){"Escape"===e.key&&v()}))},S=function(e){var t=document.querySelector("body"),n=document.querySelector("main"),r=document.querySelector(".overlay"),o=document.querySelector(".lightbox");o.setAttribute("aria-hidden","false"),r.setAttribute("aria-hidden","false"),n.setAttribute("aria-hidden","true"),t.classList.add("no-scroll"),g(e),o.focus()};function k(e,t){var n=e.id,r=e.title,o=e.date,a=e.likes,i=l(t.name);return{id:n,title:r,date:o,likes:a,getThumbnailDOM:function(){var t=document.createElement("article");t.className="media",t.innerHTML="\n\t\t\t".concat(e.image?'<img class="media__thumbnail" src="assets/thumbnails/'.concat(i,"/").concat(e.image,'" tabindex="0" />'):'<video class="media__thumbnail" src="assets/thumbnails/'.concat(i,"/").concat(e.video,'" muted="true"></video>'),'\n\t\t\t<div class="media__desc">\n\t\t\t\t<h2 class="media__name" tabindex="0">').concat(r,'</h2>\n\n\t\t\t\t<div class="media__likes">\n          <span class="media__counter">').concat(a,'</span>\n          <div class="media__heart media__heart--empty" role="button" aria-label="likes" tabindex="0"></div>\n        </div>\n\t\t\t</div>\n\t\t');var n=t.querySelector(".media__thumbnail"),o=t.querySelector(".media__heart");return t.addEventListener("click",(function(){var e=m(this);S(e)})),o.addEventListener("click",(function(e){D(t),e.stopPropagation()})),t.addEventListener("keydown",(function(e){if(" "!==e.key&&"Enter"!==e.key)return!1;var t=m(this);e.target===o?D(this):e.target===n&&S(t),e.preventDefault()})),t}}}function L(e,t,n,r,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function w(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){L(a,r,o,i,c,"next",e)}function c(e){L(a,r,o,i,c,"throw",e)}i(void 0)}))}}var E,x={};function A(e){return M.apply(this,arguments)}function M(){return M=w(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c,u,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=document.querySelector(".photograph-banner"),r=document.querySelector(".medias"),o=d(t.photographer),a=o.getUserBannerDOM(),n.parentElement.replaceChild(a,n),t.medias.forEach((function(e){var n=k(e,t.photographer).getThumbnailDOM();x[e.id]=n,r.appendChild(n)})),document.querySelectorAll(".medias video").forEach((function(e){e.addEventListener("mouseenter",(function(){e.play()})),e.addEventListener("mouseleave",(function(){e.pause()}))})),i=document.querySelector(".header__logo"),c=document.querySelector(".media:last-child .media__heart"),i.addEventListener("keydown",(function(e){if("Tab"!==e.key||!e.shiftKey)return!1;c.focus(),document.querySelector("html").scrollTop+=100,e.preventDefault()})),c.addEventListener("keydown",(function(e){if("Tab"!==e.key||e.shiftKey)return!1;i.focus(),document.querySelector("html").scrollTop=0,e.preventDefault()})),u=t.medias.reduce((function(e,t){return e+t.likes}),0),(s=document.querySelector(".insert")).className="insert",s.setAttribute("tabindex","0"),s.innerHTML='\n\t\t<p class="insert__likes">'.concat(u,'</p>\n\t\t<p class="insert__price">').concat(t.photographer.price,"€ / jour</p>\n\t");case 16:case"end":return e.stop()}}),e)}))),M.apply(this,arguments)}function T(){return(T=w(regeneratorRuntime.mark((function e(){var t,n,o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=parseInt(new URL(document.location).searchParams.get("id")),e.next=3,r.getMedias(t);case 3:A(E=e.sent),u(E.photographer.name),q(E.medias,E.photographer.name),n=document.querySelector(".dropdown__toggle"),o=document.querySelector(".dropdown__menu"),a=document.querySelectorAll(".dropdown__item"),n.addEventListener("click",P),n.addEventListener("keydown",(function(e){if(" "!==e.key&&"Enter"!==e.key)return!1;P(),document.querySelector(".dropdown__item").focus(),e.preventDefault()})),a.forEach((function(e){return e.addEventListener("click",(function(){R(e.getAttribute("data-sort")),P(),document.querySelector(".dropdown__toggle").innerHTML=e.innerHTML,n.focus()}))})),document.querySelector(".dropdown__item:last-child").addEventListener("keydown",(function(e){"Tab"!==e.key||e.shiftKey||P()})),o.addEventListener("keydown",(function(e){if("ArrowUp"!==e.key&&"ArrowDown"!==e.key)return!1;var t=h(e.target,a);"ArrowUp"===e.key?t--:"ArrowDown"===e.key&&t++,t=p(t,0,a.length-1),a[t].focus(),e.preventDefault()})),o.addEventListener("keydown",(function(e){"Escape"===e.key&&P()}));case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(e){var t=e.querySelector(".media__heart"),n=e.querySelector(".media__counter"),r=document.querySelector(".insert p"),o=parseInt(n.innerHTML),a=parseInt(r.innerHTML);t.classList.contains("media__heart--empty")?(t.classList.remove("media__heart--empty"),n.textContent=o+1,r.textContent=a+1):(t.classList.add("media__heart--empty"),n.textContent=o-1,r.textContent=a-1)}function P(){var e=document.querySelector(".dropdown"),t=document.querySelector(".dropdown__toggle"),n=document.querySelector(".dropdown__menu");t.classList.contains("hidden")?(t.classList.remove("hidden"),n.classList.add("hidden"),t.setAttribute("aria-expended","false"),e.classList.remove("expanded")):(t.classList.add("hidden"),n.classList.remove("hidden"),t.setAttribute("aria-expended","true"),e.classList.add("expanded"))}function R(e){var t=document.querySelector(".medias"),n=E.medias;n.sort((function(t,n){return t[e]<n[e]?-1:t[e]>n[e]?1:0})),"title"!==e&&n.reverse(),n.forEach((function(e){return t.appendChild(x[e.id])}))}function C(){return E.medias}function H(){return E.photographer}!function(){T.apply(this,arguments)}()})();